# üçé –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ GigaAM v3 –¥–ª—è macOS

## ‚úÖ –û–∫—Ä—É–∂–µ–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω–æ!

–û–∫—Ä—É–∂–µ–Ω–∏–µ `gigaam` –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–æ –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ –¥–ª—è —Ä–∞–±–æ—Ç—ã –Ω–∞ macOS (–≤–∫–ª—é—á–∞—è Apple Silicon).

---

## üìã –ß—Ç–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:
- ‚úÖ **Python 3.10.19** - –±–∞–∑–æ–≤—ã–π –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä
- ‚úÖ **PyTorch 2.6.0** - —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π MPS (Metal Performance Shaders) –¥–ª—è Apple Silicon
- ‚úÖ **TorchAudio 2.6.0** - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∞—É–¥–∏–æ
- ‚úÖ **TorchVision 0.21.0** - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- ‚úÖ **GigaAM** - —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏–∑ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∫–∞—Ç–∞–ª–æ–≥–∞
- ‚úÖ **FFmpeg 8.0.1** - —É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω —á–µ—Ä–µ–∑ Homebrew

### ML –±–∏–±–ª–∏–æ—Ç–µ–∫–∏:
- Transformers 4.57.3 (HuggingFace)
- Pyannote.audio 3.1.1 (—Å–µ–≥–º–µ–Ω—Ç–∞—Ü–∏—è –∞—É–¥–∏–æ)
- SpeechBrain 1.0.3 (–æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ä–µ—á–∏)
- PyTorch Lightning 2.5.6
- NumPy 2.2.6
- SciPy 1.15.3
- Pandas 2.3.3
- Scikit-learn 1.7.2

### GUI –∏ —É—Ç–∏–ª–∏—Ç—ã:
- CustomTkinter 5.2.2 (–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å)
- Librosa 0.11.0 (–∞–Ω–∞–ª–∏–∑ –∞—É–¥–∏–æ)
- Matplotlib 3.10.7 (–≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è)
- ONNX Runtime 1.23.2
- –ò –º–Ω–æ–≥–æ–µ –¥—Ä—É–≥–æ–µ...

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ê–∫—Ç–∏–≤–∞—Ü–∏—è –æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
# –°–ø–æ—Å–æ–± 1: –ß–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç –∞–∫—Ç–∏–≤–∞—Ü–∏–∏
source activate_gigaam.sh

# –°–ø–æ—Å–æ–± 2: –í—Ä—É—á–Ω—É—é
conda activate gigaam
```

### 2. –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

```bash
cd /Users/dubr1k/VSCode/GigaAMv3
python app.py
```

---

## üîß –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –º–æ–∂–Ω–æ –∫–æ–º–∞–Ω–¥–æ–π:

```bash
conda activate gigaam
python -c "
import torch
import gigaam
import transformers
import pyannote.audio
import customtkinter

print('‚úÖ PyTorch:', torch.__version__)
print('‚úÖ CUDA –¥–æ—Å—Ç—É–ø–Ω–∞:', torch.cuda.is_available())
print('‚úÖ MPS –¥–æ—Å—Ç—É–ø–Ω–∞:', torch.backends.mps.is_available() if hasattr(torch.backends, 'mps') else 'N/A')
print('‚úÖ GigaAM —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω')
print('‚úÖ Transformers:', transformers.__version__)
print('‚úÖ Pyannote.audio —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω')
print('‚úÖ CustomTkinter —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω')
"
```

–û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥:
```
‚úÖ PyTorch: 2.6.0
‚úÖ CUDA –¥–æ—Å—Ç—É–ø–Ω–∞: False
‚úÖ MPS –¥–æ—Å—Ç—É–ø–Ω–∞: True
‚úÖ GigaAM —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
‚úÖ Transformers: 4.57.3
‚úÖ Pyannote.audio —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
‚úÖ CustomTkinter —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
```

---

## üìù –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –¥–ª—è macOS

### 1. PyTorch –±–µ–∑ CUDA
–ù–∞ macOS —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ CPU –≤–µ—Ä—Å–∏—è PyTorch, –∫–æ—Ç–æ—Ä–∞—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç:
- **MPS** (Metal Performance Shaders) –Ω–∞ Apple Silicon (M1/M2/M3)
- **CPU** –Ω–∞ Intel Mac

### 2. –ü–∞—Ç—á –¥–ª—è NumPy 2.0
Pyannote.audio –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —É—Å—Ç–∞—Ä–µ–≤—à–∏–π `np.NaN`, –∫–æ—Ç–æ—Ä—ã–π –±—ã–ª —É–¥–∞–ª–µ–Ω –≤ NumPy 2.0.
–ü—Ä–æ–µ–∫—Ç –≤–∫–ª—é—á–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–∞—Ç—á –≤ `src/utils/pyannote_patch.py`, –∫–æ—Ç–æ—Ä—ã–π:
- –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç `np.NaN = np.nan` –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏
- –ü—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ `app.py`

### 3. FFmpeg
FFmpeg —É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω —á–µ—Ä–µ–∑ Homebrew –∏ –¥–æ—Å—Ç—É–ø–µ–Ω –≤ —Å–∏—Å—Ç–µ–º–µ.
–ü—Ä–æ–≤–µ—Ä–∫–∞: `which ffmpeg` ‚Üí `/opt/homebrew/bin/ffmpeg`

---

## üì¶ –§–∞–π–ª—ã —É—Å—Ç–∞–Ω–æ–≤–∫–∏

### `requirements_macos.txt`
–ü–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π, –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –¥–ª—è macOS (–±–µ–∑ CUDA).

### `activate_gigaam.sh`
–°–∫—Ä–∏–ø—Ç –¥–ª—è –±—ã—Å—Ç—Ä–æ–π –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è —Å –≤—ã–≤–æ–¥–æ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Å–∏—Å—Ç–µ–º–µ.

---

## üîÑ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ–º

### –ê–∫—Ç–∏–≤–∞—Ü–∏—è
```bash
conda activate gigaam
```

### –î–µ–∞–∫—Ç–∏–≤–∞—Ü–∏—è
```bash
conda deactivate
```

### –£–¥–∞–ª–µ–Ω–∏–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å)
```bash
conda env remove -n gigaam
```

### –ü–µ—Ä–µ—Å–æ–∑–¥–∞–Ω–∏–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
```bash
# –°–æ–∑–¥–∞—Ç—å –æ–∫—Ä—É–∂–µ–Ω–∏–µ
conda create -n gigaam python=3.10 -y

# –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å
conda activate gigaam

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å PyTorch –¥–ª—è macOS
pip install torch==2.6.0 torchvision==0.21.0 torchaudio==2.6.0 --index-url https://download.pytorch.org/whl/cpu

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install -r requirements_macos.txt

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å GigaAM
cd GigaAM
pip install -e .
cd ..
```

---

## üéØ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

1. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:**
   ```bash
   conda activate gigaam
   python app.py
   ```

2. **–í GUI –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ:**
   - –ù–∞–∂–º–∏—Ç–µ "–í—ã–±—Ä–∞—Ç—å —Ñ–∞–π–ª—ã" –∏ –≤—ã–±–µ—Ä–∏—Ç–µ –∞—É–¥–∏–æ/–≤–∏–¥–µ–æ
   - (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –í—ã–±–µ—Ä–∏—Ç–µ –ø–∞–ø–∫—É –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
   - –ù–∞–∂–º–∏—Ç–µ "–ó–ê–ü–£–°–¢–ò–¢–¨ –û–ë–†–ê–ë–û–¢–ö–£"
   - –î–æ–∂–¥–∏—Ç–µ—Å—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è

3. **–†–µ–∑—É–ª—å—Ç–∞—Ç—ã:**
   - `filename.txt` - —á–∏—Å—Ç—ã–π —Ç–µ–∫—Å—Ç —Ç—Ä–∞–Ω—Å–∫—Ä–∏–±–∞—Ü–∏–∏
   - `filename_timecodes.txt` - —Ç–µ–∫—Å—Ç —Å –≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –º–µ—Ç–∫–∞–º–∏

---

## üêõ –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ü—Ä–æ–±–ª–µ–º–∞: "np.NaN was removed"
**–†–µ—à–µ–Ω–∏–µ:** –ü–∞—Ç—á –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤ `app.py`. –ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è:
```python
import numpy as np
np.NaN = np.nan
```

### –ü—Ä–æ–±–ª–µ–º–∞: "FFmpeg –Ω–µ –Ω–∞–π–¥–µ–Ω"
**–†–µ—à–µ–Ω–∏–µ:** –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ FFmpeg —á–µ—Ä–µ–∑ Homebrew:
```bash
brew install ffmpeg
```

### –ü—Ä–æ–±–ª–µ–º–∞: "HuggingFace —Ç–æ–∫–µ–Ω –Ω–µ –Ω–∞–π–¥–µ–Ω"
**–†–µ—à–µ–Ω–∏–µ:** 
1. –ü–æ–ª—É—á–∏—Ç–µ —Ç–æ–∫–µ–Ω –Ω–∞ https://huggingface.co/settings/tokens
2. –ü—Ä–∏–º–∏—Ç–µ —É—Å–ª–æ–≤–∏—è –Ω–∞ https://huggingface.co/pyannote/segmentation-3.0
3. –î–æ–±–∞–≤—å—Ç–µ —Ç–æ–∫–µ–Ω –≤ `src/config.py`

### –ü—Ä–æ–±–ª–µ–º–∞: –ú–µ–¥–ª–µ–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞
**–†–µ—à–µ–Ω–∏–µ:** 
- –ù–∞ Apple Silicon —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ MPS –¥–æ—Å—Ç—É–ø–Ω–∞: `torch.backends.mps.is_available()` –¥–æ–ª–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å `True`
- –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç MPS –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è –Ω–∞ M1/M2/M3

---

## üí° –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
```
GigaAMv3/
‚îú‚îÄ‚îÄ app.py                     # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ config.py             # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (HF —Ç–æ–∫–µ–Ω)
‚îÇ   ‚îú‚îÄ‚îÄ core/                 # –õ–æ–≥–∏–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ gui/                  # –ì—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
‚îÇ   ‚îî‚îÄ‚îÄ utils/                # –£—Ç–∏–ª–∏—Ç—ã (–ø–∞—Ç—á–∏, –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è)
‚îú‚îÄ‚îÄ GigaAM/                   # –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ GigaAM
‚îú‚îÄ‚îÄ requirements_macos.txt    # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –¥–ª—è macOS
‚îî‚îÄ‚îÄ activate_gigaam.sh        # –°–∫—Ä–∏–ø—Ç –∞–∫—Ç–∏–≤–∞—Ü–∏–∏
```

### –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã
- –ê—É–¥–∏–æ: MP3, WAV, FLAC, OGG, WMA, M4A
- –í–∏–¥–µ–æ: MP4, AVI, MOV, MKV, WEBM

### –°–∏—Å—Ç–µ–º–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
- macOS 11.0+ (Big Sur –∏–ª–∏ –Ω–æ–≤–µ–µ)
- Python 3.10+
- 8+ GB RAM (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è 16 GB)
- Apple Silicon (M1/M2/M3) –∏–ª–∏ Intel –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä

---

## ‚úÖ –°—Ç–∞—Ç—É—Å —É—Å—Ç–∞–Ω–æ–≤–∫–∏

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –°—Ç–∞—Ç—É—Å | –í–µ—Ä—Å–∏—è |
|-----------|--------|--------|
| Conda –æ–∫—Ä—É–∂–µ–Ω–∏–µ | ‚úÖ –°–æ–∑–¥–∞–Ω–æ | gigaam |
| Python | ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω | 3.10.19 |
| PyTorch | ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω | 2.6.0 (CPU/MPS) |
| TorchAudio | ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω | 2.6.0 |
| –í—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ | ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã | –ò–∑ requirements_macos.txt |
| GigaAM | ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω | 0.1.0 (editable) |
| FFmpeg | ‚úÖ –î–æ—Å—Ç—É–ø–µ–Ω | 8.0.1 |
| –ü–∞—Ç—á NumPy 2.0 | ‚úÖ –ü—Ä–∏–º–µ–Ω–µ–Ω | –í pyannote_patch.py |

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –æ–∫—Ä—É–∂–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–æ: `conda info --envs`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–µ—Ä—Å–∏–∏ –ø–∞–∫–µ—Ç–æ–≤: `pip list`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤ –∫–æ–Ω—Å–æ–ª–∏
4. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ HuggingFace —Ç–æ–∫–µ–Ω —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≤ `src/config.py`

---

**–û–∫—Ä—É–∂–µ–Ω–∏–µ –≥–æ—Ç–æ–≤–æ –∫ —Ä–∞–±–æ—Ç–µ! üéâ**

–î–ª—è –∑–∞–ø—É—Å–∫–∞:
```bash
source activate_gigaam.sh
python app.py
```

